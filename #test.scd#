s.boot;

// poner volumen
t = SampleTexto.new // constructor
t.st(2)
t.sampleDictionary // to see Directory contents
t.init(path: "/home/hvillase/Escritorio/MIRLCa/") // to access a diferente Directory in your Recordings
t.st(106).play // accede al indice de sampleo. Tengo acceso a él con ^this
p.st(106).plot
p.st(106).normalize.play // es Buffer encapsulado en una función {Buffer.read}
p.st(106).numChannels
p.st(106).normalize // normaliza los valores del buffer

// another alternative to access sounds.
p.sampleDictionary[\smp][104].plot
p.sampleDictionary[\smp][104].normalize.play // estoy leyendo los métodos de instancia de Buffer.play. Lo de arriba son Buffer.read accedo a ellos a través de Dictionary

// Ndef test
Ndef(\ce1).stop.quant_(0);

p.st(8).normalize
p.st(8).play

Ndef(\ce1, {var num = 8; PlayBuf.ar(p.st(num).numChannels, p.st(num), rate: 1, trigger: Impulse.kr([2, 4]), startPos: p.st(num).numFrames/4, loop: 0, doneAction: 2)})

// prueba con Tdef
u = Pseq([16, 8, 32], inf).asStream

(
Tdef(\ce, {
loop{
	1.do{
		{var num = rrand(66, 68);
		Out.ar(0, PlayBuf.ar(p.st(num).numChannels,
		bufnum: p.st(num).bufnum,
		rate: 1,
		startPos: p.st(num).numFrames/u.next,
		doneAction: 2) * EnvGen.kr(Env([0,1,1,0],[1, 6, 1])) * 1
		)}.play; 9.wait
};
	2.do{
		{var num = rrand(75, 80);
		Out.ar(0, PlayBuf.ar(p.st(num).numChannels,
		bufnum: p.st(num).bufnum,
		rate: 1,
		startPos: p.st(num).numFrames/2.1,
		doneAction: 2) * 1
		)}.play; 0.25.wait
	};
}
}).stop.quant_(0)
)